<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Thailand 2026 – Startseite</title>
<link rel="stylesheet" href="kalender.css">
</head>
<body>
<h1>Thailand 2026</h1>

<div id="translateButtons">
  <button class="translateBtn" onclick="window.location.href='index-th.html'">ไทย</button>
  <button class="translateBtn" onclick="window.location.href='index.html'">Deutsch</button>
</div>

<table id="calendar">
<thead>
<tr>
<th class="sticky-col">Datum</th>
<th class="nameHeader"><button onclick="window.location.href='rouven.html'">Rouven</button></th>
<th class="nameHeader"><button onclick="window.location.href='daniel.html'">Daniel</button></th>
<th class="nameHeader"><button onclick="window.location.href='henrik.html'">Henrik</button></th>
<th class="nameHeader"><button onclick="window.location.href='benja.html'">Benja</button></th>
<th class="nameHeader"><button onclick="window.location.href='holger.html'">Holger</button></th>
</tr>
</thead>
<tbody id="calendarBody"></tbody>
</table>

<script type="module">
import {getData} from './kalender.js';
const personen=["Rouven","Daniel","Henrik","Benja","Holger"];
const start=new Date(2026,1,16),end=new Date(2026,2,12);

function formatDate(d){return String(d.getDate()).padStart(2,'0')+"."+String(d.getMonth()+1).padStart(2,'0')+".";}
function formatKey(d){return d.getFullYear()+"-"+String(d.getMonth()+1).padStart(2,'0')+"-"+String(d.getDate()).padStart(2,'0');}

function showCalendar(){
  const data=getData();
  let body="";
  for(let d=new Date(start);d<=end;d.setDate(d.getDate()+1)){
    const dateKey=formatKey(d),dateLabel=formatDate(d),day=d.getDay();
    const dateClass=(day===0||day===6)?"sticky-col weekendDate":"sticky-col";
    body+="<tr>";
    body+=`<td class="${dateClass}">${dateLabel}</td>`;
    personen.forEach(p=>{
      let base="personCol"+p;
      let weekendClass=(day===0||day===6)?("weekend"+p):base;
      let entries=[];
      if(data.de.preset[dateKey]){
        if(data.de.preset[dateKey]["all"]) entries=entries.concat(data.de.preset[dateKey]["all"]);
        if(data.de.preset[dateKey][p]) entries=entries.concat(data.de.preset[dateKey][p]);
      }
      let combined=entries.map(e=>"<div class='entry'>"+e+"</div>").join("");
      body+=`<td class="${weekendClass}">${combined}</td>`;
    });
    body+="</tr>";
  }
  document.getElementById("calendarBody").innerHTML=body;
}

showCalendar();
</script>
</body>
</html>