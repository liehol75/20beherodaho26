<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Thailand 2026 – Startseite</title>
<style>
body{font-family:sans-serif;margin:0;background:#f6f6f6;color:#333;}
h1{text-align:center;background:#0077b6;color:#fff;padding:10px;margin:0;}
table{border-collapse:collapse;width:100%;margin-bottom:20px;}
th,td{border:1px solid #ccc;padding:5px;text-align:left;vertical-align:top;}
th.nameHeader{background:#00b4d8;color:#fff;cursor:pointer;text-align:center;}
tr:nth-child(even){background:#f9f9f9;}
tr:nth-child(odd){background:#efefef;}
.entry{background:#fff;margin:2px;padding:3px;border-radius:3px;}
.entry:nth-child(even){background:#e0e0e0;}
.addBtn{background:#0077b6;color:#fff;border:none;border-radius:3px;padding:2px 5px;cursor:pointer;}
.delBtn{background:#dc3545;color:#fff;border:none;border-radius:3px;padding:1px 4px;cursor:pointer;font-size:10px;}
.personColRouven{background-color:#fddede;}
.personColDaniel{background-color:#defde0;}
.personColHenrik{background-color:#dde0fd;}
.personColBenja{background-color:#fdf3de;}
.personColHolger{background-color:#e4defd;}
</style>
</head>
<body>
<h1>Thailand 2026</h1>
<table id="calendar">
<thead>
<tr>
<th>Datum</th>
<th class="nameHeader" onclick="goPerson('rouven.html')">Rouven</th>
<th class="nameHeader" onclick="goPerson('daniel.html')">Daniel</th>
<th class="nameHeader" onclick="goPerson('henrik.html')">Henrik</th>
<th class="nameHeader" onclick="goPerson('benja.html')">Benja</th>
<th class="nameHeader" onclick="goPerson('holger.html')">Holger</th>
</tr>
</thead>
<tbody id="calendarBody"></tbody>
</table>

<script>
// --- Konfiguration ---
const personen = ["Rouven","Daniel","Henrik","Benja","Holger"];
const start = new Date(2026,1,16); // 16.02.2026 (Monate 0-indexiert)
const end   = new Date(2026,2,12); // 12.03.2026

// Vorgabedaten für alle
const preset = {
"2026-02-16":["Abflug Frankfurt/Main Flughafen 20.55 Uhr"],
"2026-02-17":["Ankunft Bangkok-Suvarnabhumi 13.45 Uhr","River Cruise"],
"2026-03-11":["Abflug Bangkok-Suvarnabhumi 12.40 Uhr // Ankunft Frankfurt/Main Flughafen 19.05 Uhr"]
};

// Einträge aus localStorage laden
let entries = JSON.parse(localStorage.getItem('entries')||'{}');

function saveEntries(){
 localStorage.setItem('entries',JSON.stringify(entries));
}

function goPerson(url){ window.location.href=url; }

function formatDate(d){
 return d.toISOString().split('T')[0];
}

function addEntry(date,person){
  const text = prompt("Neuer Eintrag für "+person+" am "+date+":","");
  if(!text) return;
  entries[date] = entries[date] || {};
  entries[date][person] = entries[date][person] || [];
  entries[date][person].push(text);
  saveEntries();
  showCalendar();
}

function editEntry(date,person,index){
  const oldText=entries[date][person][index];
  const text = prompt("Eintrag bearbeiten:",oldText);
  if(text===null) return;
  entries[date][person][index]=text;
  saveEntries();
  showCalendar();
}

function deleteEntry(date,person,index){
  if(!confirm("Eintrag löschen?")) return;
  entries[date][person].splice(index,1);
  saveEntries();
  showCalendar();
}

function showCalendar(){
  let body="";
  for(let d=new Date(start);d<=end;d.setDate(d.getDate()+1)){
    let dateStr=formatDate(d);
    body+="<tr><td>"+dateStr+"</td>";
    personen.forEach(p=>{
      let colClass="personCol"+p;
      // preset für alle Personen anzeigen
      let combined=(preset[dateStr]||[]).map(e=>"<div class='entry'>"+e+"</div>").join("");
      // individuelle Einträge
      let userEntries=(entries[dateStr] && entries[dateStr][p]) ? entries[dateStr][p] : [];
      let indiv=userEntries.map((e,i)=>
        `<div class='entry'>
           ${e}
           <button class='delBtn' onclick="deleteEntry('${dateStr}','${p}',${i})">x</button>
           <button class='addBtn' onclick="editEntry('${dateStr}','${p}',${i})">✎</button>
         </div>`
      ).join("");
      body+=`<td class='${colClass}'>
              ${combined}${indiv}
              <button class='addBtn' onclick="addEntry('${dateStr}','${p}')">+</button>
             </td>`;
    });
    body+="</tr>";
  }
  document.getElementById("calendarBody").innerHTML=body;
}

showCalendar();
</script>
</body>
</html>